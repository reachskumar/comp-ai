# ===========================================
# Compensation Management Platform - Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# ---- Database (PostgreSQL) ----
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/compensation_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=compensation_db

# ---- Database Connection Pool ----
# DB_POOL_MIN=2
# DB_POOL_MAX=20
# DB_IDLE_TIMEOUT=30000
# DB_CONNECT_TIMEOUT=5000
# DB_SSL=false

# ---- Redis ----
REDIS_URL=redis://localhost:6379

# ---- Next.js (apps/web) ----
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=change-me-in-production

# ---- NestJS API (apps/api) ----
API_PORT=4000
JWT_SECRET=change-me-in-production
JWT_EXPIRATION=1d
CORS_ORIGINS=http://localhost:3000

# ---- OpenAI (AI Agent Layer) ----
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o

# ---- PII Encryption (AES-256-GCM) ----
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# PII_ENCRYPTION_KEY=your-64-char-hex-key-here

# ---- General ----
NODE_ENV=development
# Log level: trace, debug, info, warn, error, fatal, silent (default: debug in dev, info in prod)
LOG_LEVEL=debug

# ---- Compport PHP Bridge ----
# Mode: standalone (default, no Compport needed), shared_db (shared PostgreSQL), api_bridge (REST API)
COMPPORT_MODE=standalone
# Required for api_bridge mode: Compport PHP API base URL (must be HTTPS in production)
# COMPPORT_API_URL=https://compport.example.com/api
# Required for api_bridge mode: API key for authenticating with Compport PHP API
# COMPPORT_API_KEY=your-compport-api-key
# Table prefix for Compport PHP tables in shared_db mode
COMPPORT_DB_PREFIX=compport_
# Secret for validating Compport PHP session tokens (HMAC-SHA256, min 32 chars)
# COMPPORT_SESSION_SECRET=your-session-secret-min-32-chars

